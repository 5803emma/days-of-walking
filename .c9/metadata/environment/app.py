{"filter":false,"title":"app.py","tooltip":"/app.py","undoManager":{"mark":12,"position":12,"stack":[[{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"insert","lines":["i"],"id":429},{"start":{"row":12,"column":14},"end":{"row":12,"column":15},"action":"insert","lines":["n"]},{"start":{"row":12,"column":15},"end":{"row":12,"column":16},"action":"insert","lines":["d"]},{"start":{"row":12,"column":16},"end":{"row":12,"column":17},"action":"insert","lines":["e"]},{"start":{"row":12,"column":17},"end":{"row":12,"column":18},"action":"insert","lines":["x"]}],[{"start":{"row":12,"column":17},"end":{"row":12,"column":18},"action":"remove","lines":["x"],"id":430},{"start":{"row":12,"column":16},"end":{"row":12,"column":17},"action":"remove","lines":["e"]},{"start":{"row":12,"column":15},"end":{"row":12,"column":16},"action":"remove","lines":["d"]},{"start":{"row":12,"column":14},"end":{"row":12,"column":15},"action":"remove","lines":["n"]},{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"remove","lines":["i"]}],[{"start":{"row":21,"column":0},"end":{"row":86,"column":84},"action":"remove","lines":["","","@app.route(\"/add_new_walk\")","def add_new_walk():","    return render_template(\"add_walk.html\")","","# This function POSTs the input data from the user, to the database:","","","@app.route(\"/insert_walk\", methods=['POST'])","def insert_walk():","    walk = mongo.db.walks","    walk.insert_one(request.form.to_dict())","    return redirect(url_for('get_walk_names'))","","","# Function to load UPDATE_WALK page:","","@app.route(\"/edit_walk/<walk_id>\")","def edit_walk(walk_id):","    the_walk = mongo.db.walks.find_one({\"_id\": ObjectId(walk_id)})","    return render_template(\"update_walk.html\", walk=the_walk)","","# UPDATE_WALK function - This updates information about the walk on the database:","","@app.route(\"/update_walk/<walk_id>\", methods=[\"POST\"])","def update_walk(walk_id):","    walk = mongo.db.walks","    walk.update({'_id': ObjectId(walk_id)}, {","        'walk_name' : request.form.get('walk_name'),","        'walk_location' : request.form.get('walk_location'),","        'walk_length' : request.form.get('walk_length'),","        'walk_difficulty' : request.form.get('walk_difficulty'),","        'walk_terrain' : request.form.get('walk_terrain')","    })","    return redirect(url_for('get_walk_names'))","","# Delete Walk from the Database","","@app.route(\"/delete_walk/<walk_id>\")","def delete_walk(walk_id):","    mongo.db.walks.remove({'_id': ObjectId(walk_id)})","    return redirect(url_for('get_walk_names'))","","# Leave Review","","@app.route(\"/leave_review\")","def leave_review():","    return render_template(\"leave_review.html\", walks=mongo.db.walks.find())","","","# Insert Review","","@app.route(\"/insert_review\", methods=['POST'])","def insert_review():","    review = mongo.db.walk_reviews","    review.insert_one(request.form.to_dict())","    return redirect(url_for('read_review'))","","","","# View Reviews","","@app.route(\"/read_review\")","def read_review():","    return render_template(\"read_review.html\", reviews=mongo.db.walk_reviews.find())"],"id":431}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"remove","lines":["    "],"id":432},{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"remove","lines":["",""]},{"start":{"row":20,"column":4},"end":{"row":21,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"remove","lines":["    "],"id":433}],[{"start":{"row":19,"column":40},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":434},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]},{"start":{"row":20,"column":4},"end":{"row":21,"column":0},"action":"insert","lines":["",""]},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["    "],"id":435}],[{"start":{"row":21,"column":0},"end":{"row":86,"column":84},"action":"insert","lines":["","","@app.route(\"/add_new_walk\")","def add_new_walk():","    return render_template(\"add_walk.html\")","","# This function POSTs the input data from the user, to the database:","","","@app.route(\"/insert_walk\", methods=['POST'])","def insert_walk():","    walk = mongo.db.walks","    walk.insert_one(request.form.to_dict())","    return redirect(url_for('get_walk_names'))","","","# Function to load UPDATE_WALK page:","","@app.route(\"/edit_walk/<walk_id>\")","def edit_walk(walk_id):","    the_walk = mongo.db.walks.find_one({\"_id\": ObjectId(walk_id)})","    return render_template(\"update_walk.html\", walk=the_walk)","","# UPDATE_WALK function - This updates information about the walk on the database:","","@app.route(\"/update_walk/<walk_id>\", methods=[\"POST\"])","def update_walk(walk_id):","    walk = mongo.db.walks","    walk.update({'_id': ObjectId(walk_id)}, {","        'walk_name' : request.form.get('walk_name'),","        'walk_location' : request.form.get('walk_location'),","        'walk_length' : request.form.get('walk_length'),","        'walk_difficulty' : request.form.get('walk_difficulty'),","        'walk_terrain' : request.form.get('walk_terrain')","    })","    return redirect(url_for('get_walk_names'))","","# Delete Walk from the Database","","@app.route(\"/delete_walk/<walk_id>\")","def delete_walk(walk_id):","    mongo.db.walks.remove({'_id': ObjectId(walk_id)})","    return redirect(url_for('get_walk_names'))","","# Leave Review","","@app.route(\"/leave_review\")","def leave_review():","    return render_template(\"leave_review.html\", walks=mongo.db.walks.find())","","","# Insert Review","","@app.route(\"/insert_review\", methods=['POST'])","def insert_review():","    review = mongo.db.walk_reviews","    review.insert_one(request.form.to_dict())","    return redirect(url_for('read_review'))","","","","# View Reviews","","@app.route(\"/read_review\")","def read_review():","    return render_template(\"read_review.html\", reviews=mongo.db.walk_reviews.find())"],"id":436}],[{"start":{"row":23,"column":19},"end":{"row":23,"column":20},"action":"remove","lines":["w"],"id":437},{"start":{"row":23,"column":18},"end":{"row":23,"column":19},"action":"remove","lines":["e"]},{"start":{"row":23,"column":17},"end":{"row":23,"column":18},"action":"remove","lines":["n"]},{"start":{"row":23,"column":16},"end":{"row":23,"column":17},"action":"remove","lines":["_"]}],[{"start":{"row":23,"column":16},"end":{"row":23,"column":17},"action":"insert","lines":["_"],"id":438},{"start":{"row":23,"column":17},"end":{"row":23,"column":18},"action":"insert","lines":["n"]},{"start":{"row":23,"column":18},"end":{"row":23,"column":19},"action":"insert","lines":["e"]},{"start":{"row":23,"column":19},"end":{"row":23,"column":20},"action":"insert","lines":["w"]}],[{"start":{"row":17,"column":0},"end":{"row":86,"column":84},"action":"remove","lines":["@app.route(\"/about\")","def about():","    return render_template(\"about.html\")","    ","","","@app.route(\"/add_new_walk\")","def add_new_walk():","    return render_template(\"add_walk.html\")","","# This function POSTs the input data from the user, to the database:","","","@app.route(\"/insert_walk\", methods=['POST'])","def insert_walk():","    walk = mongo.db.walks","    walk.insert_one(request.form.to_dict())","    return redirect(url_for('get_walk_names'))","","","# Function to load UPDATE_WALK page:","","@app.route(\"/edit_walk/<walk_id>\")","def edit_walk(walk_id):","    the_walk = mongo.db.walks.find_one({\"_id\": ObjectId(walk_id)})","    return render_template(\"update_walk.html\", walk=the_walk)","","# UPDATE_WALK function - This updates information about the walk on the database:","","@app.route(\"/update_walk/<walk_id>\", methods=[\"POST\"])","def update_walk(walk_id):","    walk = mongo.db.walks","    walk.update({'_id': ObjectId(walk_id)}, {","        'walk_name' : request.form.get('walk_name'),","        'walk_location' : request.form.get('walk_location'),","        'walk_length' : request.form.get('walk_length'),","        'walk_difficulty' : request.form.get('walk_difficulty'),","        'walk_terrain' : request.form.get('walk_terrain')","    })","    return redirect(url_for('get_walk_names'))","","# Delete Walk from the Database","","@app.route(\"/delete_walk/<walk_id>\")","def delete_walk(walk_id):","    mongo.db.walks.remove({'_id': ObjectId(walk_id)})","    return redirect(url_for('get_walk_names'))","","# Leave Review","","@app.route(\"/leave_review\")","def leave_review():","    return render_template(\"leave_review.html\", walks=mongo.db.walks.find())","","","# Insert Review","","@app.route(\"/insert_review\", methods=['POST'])","def insert_review():","    review = mongo.db.walk_reviews","    review.insert_one(request.form.to_dict())","    return redirect(url_for('read_review'))","","","","# View Reviews","","@app.route(\"/read_review\")","def read_review():","    return render_template(\"read_review.html\", reviews=mongo.db.walk_reviews.find())"],"id":439}],[{"start":{"row":15,"column":28},"end":{"row":15,"column":33},"action":"remove","lines":["index"],"id":440},{"start":{"row":15,"column":28},"end":{"row":15,"column":29},"action":"insert","lines":["w"]},{"start":{"row":15,"column":29},"end":{"row":15,"column":30},"action":"insert","lines":["a"]},{"start":{"row":15,"column":30},"end":{"row":15,"column":31},"action":"insert","lines":["l"]},{"start":{"row":15,"column":31},"end":{"row":15,"column":32},"action":"insert","lines":["k"]},{"start":{"row":15,"column":32},"end":{"row":15,"column":33},"action":"insert","lines":["s"]}],[{"start":{"row":17,"column":0},"end":{"row":18,"column":0},"action":"remove","lines":["",""],"id":441}]]},"ace":{"folds":[],"scrolltop":80.5,"scrollleft":0,"selection":{"start":{"row":17,"column":0},"end":{"row":17,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":4,"state":"start","mode":"ace/mode/python"}},"timestamp":1580616098004,"hash":"05807fda9086d461cc564ff65c2402fc3c501d7c"}